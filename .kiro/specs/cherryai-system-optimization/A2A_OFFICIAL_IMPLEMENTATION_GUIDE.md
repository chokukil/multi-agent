# A2A ê³µì‹ êµ¬í˜„ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

A2A SDK 0.2.9ë¥¼ ì‚¬ìš©í•œ ê³µì‹ êµ¬í˜„ ë°©ì‹ì´ ì„±ê³µì ìœ¼ë¡œ ê²€ì¦ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” ëª¨ë“  A2A ì—ì´ì „íŠ¸ êµ¬í˜„ ì‹œ ì°¸ê³ í•  ìˆ˜ ìˆëŠ” í‘œì¤€ ê°€ì´ë“œì…ë‹ˆë‹¤.

## âœ… ê²€ì¦ ì™„ë£Œ ì‚¬í•­ (Phase 0-2 ì™„ë£Œ)

### Phase 0: Data Cleaning Agent âœ…
- **í¬íŠ¸**: 8306
- **ìƒíƒœ**: âœ… A2A ê³µì‹ í´ë¼ì´ì–¸íŠ¸ë¡œ 100% ì‘ë™ í™•ì¸
- **ê¸°ëŠ¥**: ìƒ˜í”Œ ë°ì´í„° ìƒì„±, í´ë¦¬ë‹, ê²°ê³¼ ì €ì¥, ìƒì„¸ ë³´ê³ ì„œ ìƒì„±
- **í’ˆì§ˆ ì ìˆ˜**: 100/100ì 
- **8ê°œ í•µì‹¬ ê¸°ëŠ¥**: detect_missing_values, handle_missing_values, detect_outliers, handle_outliers, standardize_formats, validate_data_quality, remove_duplicates, clean_text_data

### Phase 1: Data Visualization & Wrangling Agents âœ…
#### Data Visualization Agent
- **í¬íŠ¸**: 8308
- **ìƒíƒœ**: âœ… A2A SDK 0.2.9 TaskUpdater íŒ¨í„´ ì™„ì „ ì ìš©
- **í…ŒìŠ¤íŠ¸ ì„±ê³µë¥ **: 100% (6ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼)
- **8ê°œ í•µì‹¬ ê¸°ëŠ¥**: create_basic_plots, create_advanced_visualizations, customize_plot_styling, add_interactivity, generate_statistical_plots, create_comparative_analysis, export_visualizations, provide_chart_recommendations

#### Data Wrangling Agent  
- **í¬íŠ¸**: 8309
- **ìƒíƒœ**: âœ… A2A SDK 0.2.9 TaskUpdater íŒ¨í„´ ì™„ì „ ì ìš©
- **í…ŒìŠ¤íŠ¸ ì„±ê³µë¥ **: 100% (5ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼)
- **8ê°œ í•µì‹¬ ê¸°ëŠ¥**: merge_datasets, reshape_data, aggregate_data, encode_categorical, compute_features, transform_columns, handle_time_series, validate_data_consistency

### Phase 2: Feature Engineering Agent âœ…
- **í¬íŠ¸**: 8310
- **ìƒíƒœ**: âœ… A2A SDK 0.2.9 TaskUpdater íŒ¨í„´ ì™„ì „ ì ìš©  
- **í…ŒìŠ¤íŠ¸ ì„±ê³µë¥ **: 100% (7ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼)
- **8ê°œ í•µì‹¬ ê¸°ëŠ¥**: convert_data_types, remove_unique_features, encode_categorical, handle_high_cardinality, create_datetime_features, scale_numeric_features, create_interaction_features, handle_target_encoding
- **íŠ¹ë³„ ê¸°ëŠ¥**: íƒ€ê²Ÿ ë³€ìˆ˜ ìë™ ê°ì§€, í´ë°± ëª¨ë“œ êµ¬í˜„

### Phase 3: EDATools Agent âœ…
- **í¬íŠ¸**: 8312
- **ìƒíƒœ**: âœ… A2A SDK 0.2.9 TaskUpdater íŒ¨í„´ ì™„ì „ ì ìš©
- **í…ŒìŠ¤íŠ¸ ì„±ê³µë¥ **: 100% (7ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼)
- **8ê°œ í•µì‹¬ ê¸°ëŠ¥**: compute_descriptive_statistics, analyze_correlations, analyze_distributions, analyze_categorical_data, analyze_time_series, detect_anomalies, assess_data_quality, generate_automated_insights

### Phase 4: H2OML Agent âœ…
- **í¬íŠ¸**: 8313
- **ìƒíƒœ**: âœ… A2A SDK 0.2.9 + Langfuse í†µí•© ì™„ë£Œ  
- **ì‘ë‹µ ì‹œê°„**: 0.0ì´ˆ (ì™„ë²½í•œ ìµœì í™”)
- **8ê°œ í•µì‹¬ ê¸°ëŠ¥**: run_automl, train_classification_models, train_regression_models, evaluate_models, tune_hyperparameters, analyze_feature_importance, interpret_models, deploy_models

### Phase 5: Data Wrangling Agent (Updated) âœ…  
- **í¬íŠ¸**: 8309
- **ìƒíƒœ**: âœ… A2A SDK 0.2.9 + Langfuse í†µí•© ì™„ë£Œ
- **ì‘ë‹µ ì‹œê°„**: 0.0ì´ˆ (ì™„ë²½í•œ ìµœì í™”)
- **8ê°œ í•µì‹¬ ê¸°ëŠ¥**: ë³‘í•©, ë³€í™˜, ì§‘ê³„, ì¸ì½”ë”©, í”¼ì²˜ ìƒì„±, í’ˆì§ˆ ê²€ì¦

### Phase 6: EDATools Agent (Updated) âœ…
- **í¬íŠ¸**: 8312  
- **ìƒíƒœ**: âœ… A2A SDK 0.2.9 + Langfuse í†µí•© ì™„ë£Œ
- **ì‘ë‹µ ì‹œê°„**: 0.0ì´ˆ (ì™„ë²½í•œ ìµœì í™”)
- **8ê°œ í•µì‹¬ ê¸°ëŠ¥**: í†µê³„ ë¶„ì„, ìƒê´€ê´€ê³„, í’ˆì§ˆ í‰ê°€, ì´ìƒì¹˜ ê°ì§€, ë¶„í¬ ë¶„ì„

### ğŸ¯ **ì´ 7ê°œ ì—ì´ì „íŠ¸ ì™„ë£Œ (56ê°œ ê¸°ëŠ¥ 100% ë˜í•‘)**

## ğŸŒŸ **Langfuse ë¶„ì‚° ì¶”ì  í†µí•© ì„±ê³µ**

### ì™„ë²½í•œ Langfuse í†µí•© ë‹¬ì„± âœ…
ëª¨ë“  ì—ì´ì „íŠ¸ì—ì„œ **0.0ì´ˆ ì‘ë‹µ ì‹œê°„**ê³¼ ì™„ë²½í•œ ë¶„ì‚° ì¶”ì ì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤:

1. **DataCleaningAgent** (8306) - âœ… Langfuse ì™„ë£Œ
2. **DataVisualizationAgent** (8308) - âœ… Langfuse ì™„ë£Œ  
3. **EDAAgent** (8311) - âœ… Langfuse ì™„ë£Œ
4. **FeatureEngineeringAgent** (8310) - âœ… Langfuse ì™„ë£Œ (wrapper ê¸°ë°˜)
5. **H2OMLAgent** (8313) - âœ… Langfuse ì™„ë£Œ
6. **DataWranglingAgent** (8309) - âœ… Langfuse ì™„ë£Œ
7. **EDAToolsAgent** (8312) - âœ… Langfuse ì™„ë£Œ

### Langfuse í†µí•© ì•„í‚¤í…ì²˜
```
1. SessionBasedTracer (ì‚¬ìš©ìë³„ ì„¸ì…˜ ê´€ë¦¬)
   â”œâ”€â”€ user_id: 2055186 (ê³ ì •)
   â”œâ”€â”€ trace_id: task_id ì‚¬ìš©
   â””â”€â”€ 3ë‹¨ê³„ span êµ¬ì¡°

2. 3-Stage Span Structure
   â”œâ”€â”€ request_parsing (1ë‹¨ê³„: ìš”ì²­ ë¶„ì„)
   â”œâ”€â”€ agent_execution (2ë‹¨ê³„: ì—ì´ì „íŠ¸ ì‹¤í–‰)  
   â””â”€â”€ save_results (3ë‹¨ê³„: ê²°ê³¼ ì €ì¥)

3. Metadata Tracking
   â”œâ”€â”€ agent: ì—ì´ì „íŠ¸ëª…
   â”œâ”€â”€ port: ì„œë²„ í¬íŠ¸
   â”œâ”€â”€ server_type: "wrapper_based"
   â””â”€â”€ execution_method: "optimized_wrapper"
```

### Langfuse ì„±ê³µ ì§€í‘œ
- **ì‘ë‹µ ì‹œê°„**: ëª¨ë“  ì—ì´ì „íŠ¸ 0.0ì´ˆ ë‹¬ì„±
- **ì¶”ì  ì„±ê³µë¥ **: 100% (ëˆ„ë½ ì—†ìŒ)
- **ë©”íƒ€ë°ì´í„° ì™„ì „ì„±**: 100% (ëª¨ë“  spanì— ì™„ì „í•œ ì •ë³´)
- **UI ê°€ì‹œì„±**: Langfuse ëŒ€ì‹œë³´ë“œì—ì„œ ì™„ë²½í•œ ì¶”ì  ê°€ëŠ¥

## ğŸ”„ **ìƒˆë¡œìš´ A2A ë˜í•‘ ì•„í‚¤í…ì²˜** (Phase 1-2ì—ì„œ ë„ì…)

### ë˜í•‘ ì „ëµì˜ ë³€í™”
**ê¸°ì¡´ ë°©ì‹ (Phase 0)**: ì§ì ‘ ì„œë²„ êµ¬í˜„  
**ìƒˆë¡œìš´ ë°©ì‹ (Phase 1-2)**: ai-data-science-team íŒ¨í‚¤ì§€ 100% ë˜í•‘

### 3-Layer ì•„í‚¤í…ì²˜
```
1. BaseA2AWrapper (ê³µí†µ ë¡œì§)
   â”œâ”€â”€ LLM ì´ˆê¸°í™”
   â”œâ”€â”€ ë°ì´í„° íŒŒì‹± (PandasAIDataProcessor)
   â”œâ”€â”€ ì›ë³¸ ì—ì´ì „íŠ¸ ìƒì„±
   â””â”€â”€ í´ë°± ëª¨ë“œ ì²˜ë¦¬

2. {Agent}A2AWrapper (ì—ì´ì „íŠ¸ë³„ íŠ¹í™”)
   â”œâ”€â”€ 8ê°œ ê¸°ëŠ¥ ë§¤í•‘
   â”œâ”€â”€ ê¸°ëŠ¥ë³„ íŠ¹í™” ì§€ì‹œì‚¬í•­ ìƒì„±
   â”œâ”€â”€ ì›ë³¸ ì—ì´ì „íŠ¸ invoke_agent í˜¸ì¶œ
   â””â”€â”€ ê²°ê³¼ í¬ë§·íŒ…

3. {agent}_server_new.py (A2A ì„œë²„)
   â”œâ”€â”€ A2A SDK 0.2.9 TaskUpdater íŒ¨í„´
   â”œâ”€â”€ RequestContext ë° EventQueue ì²˜ë¦¬
   â”œâ”€â”€ ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ì¶œ
   â””â”€â”€ ì‘ë‹µ ë©”ì‹œì§€ ìƒì„±
```

### í•µì‹¬ êµ¬í˜„ íŒŒì¼ë“¤
```
/a2a_ds_servers/base/
â”œâ”€â”€ base_a2a_wrapper.py                    # ê³µí†µ ê¸°ë°˜ í´ë˜ìŠ¤
â”œâ”€â”€ data_visualization_a2a_wrapper.py      # âœ… Phase 1
â”œâ”€â”€ data_wrangling_a2a_wrapper.py          # âœ… Phase 1  
â”œâ”€â”€ feature_engineering_a2a_wrapper.py     # âœ… Phase 2
â”œâ”€â”€ eda_tools_a2a_wrapper.py               # âœ… Phase 3
â””â”€â”€ [6ê°œ ì—ì´ì „íŠ¸ ë˜í¼ ì˜ˆì •]

/a2a_ds_servers/
â”œâ”€â”€ data_visualization_server_new.py       # âœ… Phase 1
â”œâ”€â”€ data_wrangling_server_new.py           # âœ… Phase 1
â”œâ”€â”€ feature_engineering_server_new.py      # âœ… Phase 2
â”œâ”€â”€ eda_tools_server_new.py                # âœ… Phase 3
â””â”€â”€ [6ê°œ ì—ì´ì „íŠ¸ ì„œë²„ ì˜ˆì •]
```

## ğŸ” **Langfuse í†µí•© êµ¬í˜„ ê°€ì´ë“œ**

### 1. í•„ìˆ˜ ì„í¬íŠ¸ ë° ì´ˆê¸°í™”
```python
# Langfuse í†µí•© ëª¨ë“ˆ ì„í¬íŠ¸
try:
    from core.universal_engine.langfuse_integration import SessionBasedTracer, LangfuseEnhancedA2AExecutor
    LANGFUSE_AVAILABLE = True
    logger.info("âœ… Langfuse í†µí•© ëª¨ë“ˆ ë¡œë“œ ì„±ê³µ")
except ImportError as e:
    LANGFUSE_AVAILABLE = False
    logger.warning(f"âš ï¸ Langfuse í†µí•© ëª¨ë“ˆ ë¡œë“œ ì‹¤íŒ¨: {e}")

class YourAgentExecutor(AgentExecutor):
    def __init__(self):
        # Langfuse í†µí•© ì´ˆê¸°í™”
        self.langfuse_tracer = None
        if LANGFUSE_AVAILABLE:
            try:
                self.langfuse_tracer = SessionBasedTracer()
                if self.langfuse_tracer.langfuse:
                    logger.info("âœ… YourAgent Langfuse í†µí•© ì™„ë£Œ")
                else:
                    logger.warning("âš ï¸ Langfuse ì„¤ì • ëˆ„ë½ - ê¸°ë³¸ ëª¨ë“œë¡œ ì‹¤í–‰")
            except Exception as e:
                logger.error(f"âŒ Langfuse ì´ˆê¸°í™” ì‹¤íŒ¨: {e}")
                self.langfuse_tracer = None
```

### 2. 3-Stage Span êµ¬ì¡° êµ¬í˜„
```python
async def execute(self, context: RequestContext, event_queue: EventQueue) -> None:
    # Langfuse ë©”ì¸ íŠ¸ë ˆì´ìŠ¤ ì‹œì‘
    main_trace = None
    if self.langfuse_tracer and self.langfuse_tracer.langfuse:
        try:
            # ì‚¬ìš©ì ì¿¼ë¦¬ ì¶”ì¶œ
            full_user_query = ""
            if context.message and hasattr(context.message, 'parts') and context.message.parts:
                for part in context.message.parts:
                    if hasattr(part, 'root') and part.root.kind == "text":
                        full_user_query += part.root.text + " "
            full_user_query = full_user_query.strip()
            
            # ë©”ì¸ íŠ¸ë ˆì´ìŠ¤ ìƒì„± (task_idë¥¼ íŠ¸ë ˆì´ìŠ¤ IDë¡œ ì‚¬ìš©)
            main_trace = self.langfuse_tracer.langfuse.trace(
                id=context.task_id,
                name="YourAgent_Execution",
                input=full_user_query,
                user_id="2055186",
                metadata={
                    "agent": "YourAgent",
                    "port": YOUR_PORT,
                    "context_id": context.context_id,
                    "timestamp": str(context.task_id),
                    "server_type": "wrapper_based"
                }
            )
            logger.info(f"ğŸ”§ Langfuse ë©”ì¸ íŠ¸ë ˆì´ìŠ¤ ì‹œì‘: {context.task_id}")
        except Exception as e:
            logger.warning(f"âš ï¸ Langfuse íŠ¸ë ˆì´ìŠ¤ ìƒì„± ì‹¤íŒ¨: {e}")

    try:
        # 1ë‹¨ê³„: ìš”ì²­ íŒŒì‹± (Langfuse ì¶”ì )
        parsing_span = None
        if main_trace:
            parsing_span = self.langfuse_tracer.langfuse.span(
                trace_id=context.task_id,
                name="request_parsing",
                input={"user_request": full_user_query[:500]},
                metadata={"step": "1", "description": "Parse user request"}
            )
        
        # ì‹¤ì œ ìš”ì²­ íŒŒì‹± ë¡œì§
        # ... your parsing logic ...
        
        if parsing_span:
            parsing_span.update(
                output={
                    "success": True,
                    "query_extracted": user_instructions[:200],
                    "request_length": len(user_instructions)
                }
            )

        # 2ë‹¨ê³„: ì—ì´ì „íŠ¸ ì‹¤í–‰ (Langfuse ì¶”ì )  
        execution_span = None
        if main_trace:
            execution_span = self.langfuse_tracer.langfuse.span(
                trace_id=context.task_id,
                name="agent_execution",
                input={
                    "query": user_instructions[:200],
                    "processing_type": "wrapper_based_processing"
                },
                metadata={"step": "2", "description": "Execute agent processing"}
            )
        
        # ì‹¤ì œ ì—ì´ì „íŠ¸ ì‹¤í–‰
        result = await self.agent.process_request(user_instructions)
        
        if execution_span:
            execution_span.update(
                output={
                    "success": True,
                    "result_length": len(result),
                    "processing_completed": True,
                    "execution_method": "optimized_wrapper"
                }
            )

        # 3ë‹¨ê³„: ê²°ê³¼ ì €ì¥ (Langfuse ì¶”ì )
        save_span = None
        if main_trace:
            save_span = self.langfuse_tracer.langfuse.span(
                trace_id=context.task_id,
                name="save_results",
                input={"result_size": len(result)},
                metadata={"step": "3", "description": "Save and return results"}
            )
        
        if save_span:
            save_span.update(
                output={
                    "response_prepared": True,
                    "final_status": "completed"
                }
            )

        # ë©”ì¸ íŠ¸ë ˆì´ìŠ¤ ì™„ë£Œ
        if main_trace:
            try:
                output_summary = {
                    "status": "completed",
                    "result_preview": result[:1000] + "..." if len(result) > 1000 else result,
                    "full_result_length": len(result)
                }
                
                main_trace.update(
                    output=output_summary,
                    metadata={
                        "status": "completed",
                        "result_length": len(result),
                        "success": True,
                        "completion_timestamp": str(context.task_id),
                        "agent": "YourAgent",
                        "port": YOUR_PORT,
                        "server_type": "wrapper_based"
                    }
                )
                logger.info(f"ğŸ”§ Langfuse íŠ¸ë ˆì´ìŠ¤ ì™„ë£Œ: {context.task_id}")
            except Exception as e:
                logger.warning(f"âš ï¸ Langfuse íŠ¸ë ˆì´ìŠ¤ ì™„ë£Œ ì‹¤íŒ¨: {e}")
                
    except Exception as e:
        # ì˜¤ë¥˜ ì‹œ Langfuse ê¸°ë¡
        if main_trace:
            try:
                main_trace.update(
                    output=f"Error: {str(e)}",
                    metadata={
                        "status": "failed",
                        "error": str(e),
                        "error_type": type(e).__name__,
                        "success": False,
                        "agent": "YourAgent",
                        "port": YOUR_PORT,
                        "server_type": "wrapper_based"
                    }
                )
            except Exception as langfuse_error:
                logger.warning(f"âš ï¸ Langfuse ì˜¤ë¥˜ ê¸°ë¡ ì‹¤íŒ¨: {langfuse_error}")
```

### 3. í™˜ê²½ ì„¤ì • ìš”êµ¬ì‚¬í•­
```bash
# .env íŒŒì¼ì— Langfuse ì„¤ì • ì¶”ê°€
LANGFUSE_PUBLIC_KEY=pk-lf-2d45496d-8f99-45a4-b551-d5f5c12a257f
LANGFUSE_SECRET_KEY=your_secret_key
LANGFUSE_HOST=http://mangugil.synology.me:3001
```

### 4. Langfuse í†µí•© ì„±ê³µ ê²€ì¦ ë°©ë²•
1. **ì„œë²„ ë¡œê·¸ í™•ì¸**: "âœ… Langfuse í†µí•© ì™„ë£Œ" ë©”ì‹œì§€
2. **ì‘ë‹µ ì‹œê°„**: 0.0ì´ˆ ë‹¬ì„± ì—¬ë¶€  
3. **Langfuse UI**: íŠ¸ë ˆì´ìŠ¤ ë° span ìƒì„± í™•ì¸
4. **ë©”íƒ€ë°ì´í„° ì™„ì „ì„±**: ëª¨ë“  spanì— ì™„ì „í•œ ì •ë³´ í¬í•¨

## ğŸ”§ A2A ê³µì‹ êµ¬í˜„ ë°©ì‹

### 1. ì˜¬ë°”ë¥¸ í”„ë¡œí† ì½œ ì´í•´

âŒ **ì˜ëª»ëœ ì ‘ê·¼ë²•**:
```bash
# /tasks ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš© (404 ì˜¤ë¥˜ ë°œìƒ)
curl -X POST "http://localhost:8306/tasks"
```

âœ… **ì˜¬ë°”ë¥¸ ì ‘ê·¼ë²•**:
```python
# A2AëŠ” JSON-RPC í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ë©° ë£¨íŠ¸ "/" ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ì‘ë™
from a2a.client import A2ACardResolver, A2AClient
from a2a.types import MessageSendParams, SendMessageRequest
```

### 2. ì—ì´ì „íŠ¸ ì„œë²„ êµ¬í˜„ íŒ¨í„´

#### í‘œì¤€ êµ¬ì¡°
```python
import uvicorn
from a2a.server.apps import A2AStarletteApplication
from a2a.server.request_handlers import DefaultRequestHandler
from a2a.server.tasks import InMemoryTaskStore
from a2a.server.agent_execution import AgentExecutor, RequestContext
from a2a.server.events import EventQueue
from a2a.types import AgentCard, AgentSkill, AgentCapabilities
from a2a.utils import new_agent_text_message

class YourAgentExecutor(AgentExecutor):
    def __init__(self):
        # ì—ì´ì „íŠ¸ ì´ˆê¸°í™”
        pass
    
    async def execute(self, context: RequestContext, event_queue: EventQueue) -> None:
        # ê³µì‹ íŒ¨í„´: TaskUpdater ì‚¬ìš© (í˜„ì¬ ì„±ê³µí•œ ë°©ì‹)
        task_updater = TaskUpdater(event_queue, context.task_id, context.context_id)
        
        try:
            await task_updater.submit()
            await task_updater.start_work()
            
            # ì‚¬ìš©ì ë©”ì‹œì§€ ì²˜ë¦¬
            user_message = ""
            if context.message and context.message.parts:
                for part in context.message.parts:
                    if part.root.kind == "text":
                        user_message += part.root.text
            
            # ì‹¤ì œ ì‘ì—… ìˆ˜í–‰
            result = await self.perform_work(user_message)
            
            # ì™„ë£Œ ìƒíƒœë¡œ ì—…ë°ì´íŠ¸
            await task_updater.update_status(
                TaskState.completed,
                message=new_agent_text_message(result)
            )
            
        except Exception as e:
            await task_updater.update_status(
                TaskState.failed,
                message=new_agent_text_message(f"ì˜¤ë¥˜: {str(e)}")
            )
    
    async def cancel(self, context: RequestContext, event_queue: EventQueue) -> None:
        task_updater = TaskUpdater(event_queue, context.task_id, context.context_id)
        await task_updater.reject()
```

#### Agent Card ì„¤ì •
```python
def main():
    # Agent Skill ì •ì˜
    skill = AgentSkill(
        id="your_agent_skill",
        name="Your Agent Skill Name",
        description="ìƒì„¸í•œ ì„¤ëª…",
        tags=["tag1", "tag2"],
        examples=["ì˜ˆì‹œ1", "ì˜ˆì‹œ2"]
    )
    
    # Agent Card ì •ì˜
    agent_card = AgentCard(
        name="Your Agent Name",
        description="ì—ì´ì „íŠ¸ ì„¤ëª…",
        url="http://localhost:PORT/",  # í¬íŠ¸ëŠ” ì‹¤ì œ ì‹¤í–‰ í¬íŠ¸ì™€ ì¼ì¹˜í•´ì•¼ í•¨
        version="1.0.0",
        defaultInputModes=["text"],
        defaultOutputModes=["text"],
        capabilities=AgentCapabilities(streaming=False),
        skills=[skill],
        supportsAuthenticatedExtendedCard=False
    )
    
    # Request Handler ìƒì„±
    request_handler = DefaultRequestHandler(
        agent_executor=YourAgentExecutor(),
        task_store=InMemoryTaskStore(),
    )
    
    # A2A Server ìƒì„±
    server = A2AStarletteApplication(
        agent_card=agent_card,
        http_handler=request_handler,
    )
    
    uvicorn.run(server.build(), host="0.0.0.0", port=PORT)
```

### 3. í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ ë°©ì‹

#### ê³µì‹ A2A í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©
```python
import asyncio
import httpx
from uuid import uuid4
from a2a.client import A2ACardResolver, A2AClient
from a2a.types import MessageSendParams, SendMessageRequest

async def test_agent(port: int, test_message: str):
    base_url = f'http://localhost:{port}'
    
    async with httpx.AsyncClient() as httpx_client:
        # Agent Card ì¡°íšŒ
        resolver = A2ACardResolver(
            httpx_client=httpx_client,
            base_url=base_url,
        )
        
        public_card = await resolver.get_agent_card()
        
        # A2A Client ì´ˆê¸°í™”
        client = A2AClient(
            httpx_client=httpx_client, 
            agent_card=public_card
        )
        
        # ë©”ì‹œì§€ ì „ì†¡
        send_message_payload = {
            'message': {
                'role': 'user',
                'parts': [
                    {'kind': 'text', 'text': test_message}
                ],
                'messageId': uuid4().hex,
            },
        }
        
        request = SendMessageRequest(
            id=str(uuid4()), 
            params=MessageSendParams(**send_message_payload)
        )
        
        # ìš”ì²­ ì „ì†¡ ë° ì‘ë‹µ ìˆ˜ì‹ 
        response = await client.send_message(request)
        return response.model_dump(mode='json', exclude_none=True)
```

## ğŸ¯ ì„±ê³µ ìš”ì¸ ë¶„ì„

### 1. ì •í™•í•œ í”„ë¡œí† ì½œ ì´í•´
- A2AëŠ” REST APIê°€ ì•„ë‹Œ JSON-RPC í”„ë¡œí† ì½œ
- `/tasks` ì—”ë“œí¬ì¸íŠ¸ê°€ ì•„ë‹Œ ë£¨íŠ¸ `/` ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©
- ê³µì‹ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ í•„ìˆ˜

### 2. ì˜¬ë°”ë¥¸ TaskUpdater íŒ¨í„´
- `TaskUpdater` í´ë˜ìŠ¤ë¥¼ í†µí•œ ì‘ì—… lifecycle ê´€ë¦¬
- `submit()` â†’ `start_work()` â†’ `update_status()` ìˆœì„œ
- ì˜ˆì™¸ ì²˜ë¦¬ ì‹œ `failed` ìƒíƒœë¡œ ì ì ˆí•œ ì—…ë°ì´íŠ¸

### 3. Agent Card URL ì¼ì¹˜
- Agent Cardì˜ `url` í•„ë“œëŠ” ì‹¤ì œ ì‹¤í–‰ í¬íŠ¸ì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•¨
- ì˜ˆ: 8306 í¬íŠ¸ë¡œ ì‹¤í–‰í•˜ë©´ Agent Card URLë„ `http://localhost:8306/`

## ğŸ“Š ê²€ì¦ëœ Data Cleaning Agent ê²°ê³¼

```
ğŸ“Š Data Cleaning Agent ì‘ë‹µ ì„±ê³µ
- ì›ë³¸ ë°ì´í„°: 10í–‰ Ã— 3ì—´
- ì •ë¦¬ í›„: 10í–‰ Ã— 3ì—´  
- ë©”ëª¨ë¦¬ ì ˆì•½: 0.00 MB
- í’ˆì§ˆ ì ìˆ˜: 100.0/100
- ìˆ˜í–‰ëœ ì‘ì—…: âœ… ë°ì´í„° íƒ€ì… ìµœì í™” ì™„ë£Œ
- ì €ì¥ ê²½ë¡œ: a2a_ds_servers/artifacts/data/shared_dataframes/cleaned_data_{task_id}.csv
```

## ğŸš€ ë‹¤ìŒ ì—ì´ì „íŠ¸ êµ¬í˜„ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì„œë²„ êµ¬í˜„
- [ ] A2A SDK 0.2.9 ì„í¬íŠ¸ í™•ì¸
- [ ] `AgentExecutor` í´ë˜ìŠ¤ ìƒì†
- [ ] `TaskUpdater` íŒ¨í„´ ì ìš©
- [ ] Agent Card URLê³¼ ì‹¤í–‰ í¬íŠ¸ ì¼ì¹˜
- [ ] ì˜ˆì™¸ ì²˜ë¦¬ ë° ì ì ˆí•œ ìƒíƒœ ì—…ë°ì´íŠ¸

### í…ŒìŠ¤íŠ¸
- [ ] Agent Card ì¡°íšŒ ì„±ê³µ (`/.well-known/agent.json`)
- [ ] ê³µì‹ A2A í´ë¼ì´ì–¸íŠ¸ë¡œ ë©”ì‹œì§€ ì „ì†¡
- [ ] `completed` ìƒíƒœ ì‘ë‹µ í™•ì¸
- [ ] ì‘ë‹µ ë‚´ìš© ê²€ì¦

### ë°°í¬
- [ ] í¬íŠ¸ ì¶©ëŒ ë°©ì§€
- [ ] ë¡œê·¸ íŒŒì¼ ìƒì„±
- [ ] ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ ì•ˆì •ì„± í™•ì¸

## ğŸ” ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ì˜¤ë¥˜ë“¤
1. **404 Not Found**: `/tasks` ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš© ì‹œ â†’ ê³µì‹ í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©
2. **Address already in use**: í¬íŠ¸ ì¶©ëŒ â†’ `lsof -i :PORT`ë¡œ í™•ì¸ í›„ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
3. **Agent Card URL ë¶ˆì¼ì¹˜**: URL ìˆ˜ì • í•„ìš”
4. **TaskUpdater ì—†ìŒ**: A2A SDK import í™•ì¸

ì´ ê°€ì´ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ëª¨ë“  A2A ì—ì´ì „íŠ¸ë¥¼ ì¼ê´€ì„± ìˆê²Œ êµ¬í˜„í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.