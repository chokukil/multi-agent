# ğŸ’ Cherry AI - ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

**Cherry AI**ëŠ” LangGraphì˜ Plan-Execute íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ëœ ê°•ë ¥í•œ ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. Streamlitìœ¼ë¡œ êµ¬í˜„ëœ ì§ê´€ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” ë°ì´í„° ë¶„ì„, ì‹œê°í™”, ë³´ê³ ì„œ ì‘ì„± ë“± ë³µì¡í•œ ì‘ì—…ì„ ì—¬ëŸ¬ ì „ë¬¸ ì—ì´ì „íŠ¸ì—ê²Œ ìœ„ì„í•˜ê³  ì‹¤ì‹œê°„ìœ¼ë¡œ ì§„í–‰ ìƒí™©ì„ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## âœ¨ ì£¼ìš” íŠ¹ì§•

-   **ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜**: ë°ì´í„° ë¶„ì„, ì‹œê°í™” ë“± íŠ¹ì • ì—­í• ì— íŠ¹í™”ëœ ì—¬ëŸ¬ AI ì—ì´ì „íŠ¸ê°€ í˜‘ë ¥í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.
-   **Plan-Execute íŒ¨í„´**: `Planner`ê°€ ì „ì²´ ì‘ì—… ê³„íšì„ ìˆ˜ë¦½í•˜ë©´, `Router`ê°€ ê° ë‹¨ê³„ë¥¼ ê°€ì¥ ì í•©í•œ `Executor` ì—ì´ì „íŠ¸ì—ê²Œ ë™ì ìœ¼ë¡œ í• ë‹¹í•˜ì—¬ ì²´ê³„ì ì´ê³  íš¨ìœ¨ì ì¸ ì‘ì—… ìˆ˜í–‰ì„ ë³´ì¥í•©ë‹ˆë‹¤.
-   **SSOT (Single Source of Truth)**: ëª¨ë“  ì—ì´ì „íŠ¸ê°€ `UnifiedDataManager`ë¥¼ í†µí•´ ë™ì¼í•œ ë°ì´í„°ì— ì ‘ê·¼í•˜ì—¬ ë°ì´í„° ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ ë°©ì§€í•˜ê³  ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
-   **ë°ì´í„° ê³„ë³´ ì¶”ì **: `DataLineageManager`ë¥¼ í†µí•´ ë°ì´í„°ì˜ ëª¨ë“  ë³€í™˜ ê³¼ì •ì„ ì¶”ì í•˜ì—¬ ë¶„ì„ ê²°ê³¼ì˜ íˆ¬ëª…ì„±ê³¼ ì‹ ë¢°ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.
-   **ë™ì ì¸ ì‹œìŠ¤í…œ êµ¬ì„±**: ì‚¬ìš©ìëŠ” UIë¥¼ í†µí•´ ì§ì ‘ ì—ì´ì „íŠ¸ë¥¼ ì¶”ê°€/ì œê±°í•˜ê³ , ì‹œìŠ¤í…œ ì„¤ì •ì„ ë³€ê²½í•˜ë©°, ì „ì²´ êµ¬ì„±ì„ í…œí”Œë¦¿ìœ¼ë¡œ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
-   **ì‹¤ì‹œê°„ ì¸í„°ë™ì…˜ ë° ì‹œê°í™”**: Streamlit ê¸°ë°˜ì˜ ì¸í„°ë™í‹°ë¸Œí•œ UIë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œìŠ¤í…œê³¼ ì†Œí†µí•˜ê³ , ë¶„ì„ ê²°ê³¼ì™€ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ†• A2A Protocol Standard Compliance

**Important Update**: CherryAI now fully complies with the A2A (Agent-to-Agent) protocol standard by using the official **a2a-sdk** package.

### A2A Implementation Details

- **Server**: Uses `A2AFastAPIApplication` with standard `DefaultRequestHandler`
- **Client**: Uses `A2AClient` with proper agent card discovery
- **Components**: Complete integration with `AgentExecutor`, `TaskStore`, and `RequestContext`
- **Standards**: Full compliance with A2A protocol specification v0.2.0+

### Key A2A Features

âœ… **Standard Agent Card**: Served at `/.well-known/agent.json`  
âœ… **Message Handling**: Complete A2A message protocol support  
âœ… **Task Management**: Integrated with A2A task lifecycle  
âœ… **Streaming**: Support for real-time communication  
âœ… **Error Handling**: Proper A2A error responses  

### ğŸ”¬ A2A Data Science Agents

CherryAI includes a comprehensive suite of A2A-compliant data science agents:

#### Available Agents

| Agent | Port | Description |
|-------|------|-------------|
| **Data Loader** | 8000 | File operations, data loading, and preprocessing |
| **Pandas Analyst** | 8001 | Advanced pandas analysis with interactive visualizations |
| **SQL Analyst** | 8002 | Database queries and SQL-based analysis |
| **EDA Tools** | 8003 | Exploratory data analysis and statistical insights |
| **Data Visualization** | 8004 | Interactive charts and dashboard creation |
| **Orchestrator** | 8100 | Central management and coordination |

#### Key Features

ğŸš€ **Real-time Streaming**: Live progress updates during analysis  
ğŸ“Š **Interactive Visualizations**: Streamlit-optimized Plotly charts  
ğŸ”„ **Agent Orchestration**: Coordinated multi-agent workflows  
ğŸ“ **Artifact Management**: Automatic file and result storage  
ğŸ§ª **Sample Data**: Pre-loaded datasets for testing  

#### Usage

1. **Web Interface**: Visit the "ğŸ”¬ A2A Data Science" page in CherryAI
2. **Agent Management**: Monitor and control agents via "âš™ï¸ Agent Management"
3. **Direct API**: Send A2A protocol requests to individual agents
4. **System Control**: Use `system_start.bat` to launch all agents

### A2A Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    A2A Protocol    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CherryAI UI   â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ A2A Data Scienceâ”‚
â”‚   (Client)      â”‚   (Standard SDK)   â”‚    Agents       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                       â”‚
        â”‚              A2A SDK                  â”‚
        â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  A2AExecutor    â”‚                    â”‚ Specialized     â”‚
â”‚  (Orchestrator) â”‚                    â”‚ Data Agents     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ AI Data Science â”‚
                                    â”‚ Team Library    â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ›ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
CherryAI/
â”œâ”€â”€ app.py                   # Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”ì¸ ì§„ì…ì 
â”œâ”€â”€ core/                    # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ data_manager.py      # ë°ì´í„° ê´€ë¦¬ (SSOT)
â”‚   â”œâ”€â”€ llm_factory.py       # LLM ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
â”‚   â”œâ”€â”€ plan_execute/        # Plan-Execute íŒ¨í„´ êµ¬í˜„
â”‚   â”‚   â”œâ”€â”€ planner.py       # ì‘ì—… ê³„íš ìˆ˜ë¦½
â”‚   â”‚   â”œâ”€â”€ router.py        # ì‘ì—… ë¼ìš°íŒ…
â”‚   â”‚   â””â”€â”€ executor.py      # ì‹¤ì œ ì‘ì—… ìˆ˜í–‰
â”‚   â””â”€â”€ tools/               # ì—ì´ì „íŠ¸ê°€ ì‚¬ìš©í•˜ëŠ” ë„êµ¬ (e.g., Python REPL)
â”œâ”€â”€ ui/                      # Streamlit UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ chat_interface.py    # ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
â”‚   â””â”€â”€ sidebar_components.py # ì‚¬ì´ë“œë°” UI ìš”ì†Œ
â”œâ”€â”€ mcp-servers/             # MCP(Multi-Agent Control Plane) ì„œë²„ ìŠ¤í¬ë¦½íŠ¸ (ì„ íƒ ì‚¬í•­)
â”œâ”€â”€ multi_agent_supervisor.py# ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ ê´€ë¦¬ì UI
â”œâ”€â”€ pyproject.toml           # í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ê´€ë¦¬ (uv)
â””â”€â”€ requirements.txt         # í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ê´€ë¦¬ (pip)
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. í™˜ê²½ ì„¤ì •

ì €ì¥ì†Œë¥¼ í´ë¡ í•˜ê³  í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.

```bash
git clone <repository-url>
cd CherryAI_0621
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

`uv` íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash
# uv ì‚¬ìš© (ê¶Œì¥)
uv sync

# ë˜ëŠ” pip ì‚¬ìš©
pip install -r requirements.txt
```

### 3. LLM ì œê³µì ì„¤ì •

#### Option A: OpenAI (ìœ ë£Œ)
```bash
cp .env.example .env
# .env íŒŒì¼ì— API í‚¤ ì„¤ì •
OPENAI_API_KEY="sk-..."
LLM_PROVIDER="OPENAI"
```

#### Option B: Ollama (ë¬´ë£Œ, ë¡œì»¬)
```bash
# ğŸ¦™ Ollama ìë™ ì„¤ì • (ê¶Œì¥)
./setup_ollama_env.sh      # Linux/macOS
# setup_ollama_env.bat     # Windows

# ë˜ëŠ” ìˆ˜ë™ ì„¤ì •
export LLM_PROVIDER=OLLAMA
export OLLAMA_MODEL=llama3.1:8b
export OLLAMA_BASE_URL=http://localhost:11434

# Ollama ì„œë²„ ì‹œì‘
ollama serve

# ê¶Œì¥ ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
ollama pull llama3.1:8b
```

#### ğŸ†• Ollama Tool Calling ì§€ì›
Cherry AIëŠ” Ollamaì˜ ë„êµ¬ í˜¸ì¶œì„ ì™„ì „íˆ ì§€ì›í•©ë‹ˆë‹¤:
- âœ… **GPTì™€ ë™ì¼í•œ ì„±ëŠ¥**: ë°ì´í„° ë¶„ì„, ì‹œê°í™”, ì½”ë“œ ì‹¤í–‰
- âœ… **ìë™ ëª¨ë¸ ê²€ì¦**: ë„êµ¬ í˜¸ì¶œ ì§€ì› ëª¨ë¸ ìë™ ê°ì§€
- âœ… **ìµœì í™”ëœ ì—ì´ì „íŠ¸**: Ollama ì „ìš© ì»¤ìŠ¤í…€ ì—ì´ì „íŠ¸
- âœ… **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: UIì—ì„œ Ollama ìƒíƒœ í™•ì¸

**ê¶Œì¥ ëª¨ë¸**:
- `llama3.1:8b` - ê· í˜•ì¡íŒ ì„±ëŠ¥ (10GB RAM)
- `qwen2.5:7b` - ë¹ ë¥¸ ì²˜ë¦¬ (8GB RAM)
- `qwen2.5-coder:7b` - ì½”ë”© ì „ë¬¸ (9GB RAM)

ìì„¸í•œ ì„¤ì •ì€ [OLLAMA_IMPROVEMENT_GUIDE.md](./OLLAMA_IMPROVEMENT_GUIDE.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### 4. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

#### Option A: ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰ (A2A í¬í•¨)

A2A ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ì—ì´ì „íŠ¸ì™€ í•¨ê»˜ ì „ì²´ ì‹œìŠ¤í…œì„ ì‹¤í–‰í•©ë‹ˆë‹¤:

```bash
# Windows
system_start.bat

# Linux/macOS
./system_start.sh
```

#### Option B: Streamlitë§Œ ì‹¤í–‰

ê¸°ë³¸ CherryAI ì¸í„°í˜ì´ìŠ¤ë§Œ ì‹¤í–‰í•©ë‹ˆë‹¤:

```bash
streamlit run app.py
```

### 5. ì‚¬ìš© ë°©ë²•

ë¸Œë¼ìš°ì €ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì—´ë¦¬ë©´ ë‹¤ìŒ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

#### ğŸ”¬ A2A Data Science Agents (ê¶Œì¥)
- **ì§ì ‘ ì—ì´ì „íŠ¸ ìƒí˜¸ì‘ìš©**: A2A í”„ë¡œí† ì½œì„ í†µí•œ ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„
- **ì „ë¬¸í™”ëœ ì—ì´ì „íŠ¸**: ê° ë¶„ì•¼ë³„ íŠ¹í™”ëœ AI ì—ì´ì „íŠ¸ í™œìš©
- **ìƒ˜í”Œ ë°ì´í„°**: ì¦‰ì‹œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ë°ì´í„°ì…‹ ì œê³µ

#### âš™ï¸ Agent Management
- **ì„œë²„ ìƒíƒœ ëª¨ë‹ˆí„°ë§**: ëª¨ë“  A2A ì—ì´ì „íŠ¸ì˜ ì‹¤ì‹œê°„ ìƒíƒœ í™•ì¸
- **ì‹œìŠ¤í…œ ì œì–´**: ê°œë³„ ë˜ëŠ” ì „ì²´ ì—ì´ì „íŠ¸ ì‹œì‘/ì¤‘ì§€

#### ğŸ’¬ Agent Chat (ê¸°ì¡´)
- **ëŒ€í™”í˜• ë¶„ì„**: ìì—°ì–´ë¡œ ë°ì´í„° ë¶„ì„ ìš”ì²­
- **ê³„íš-ì‹¤í–‰ íŒ¨í„´**: ë³µì¡í•œ ì‘ì—…ì˜ ì²´ê³„ì  ìˆ˜í–‰

#### ğŸ“Š EDA Copilot (ê¸°ì¡´)
- **íƒìƒ‰ì  ë°ì´í„° ë¶„ì„**: ê°€ì´ë“œëœ ë°ì´í„° íƒìƒ‰ ë„êµ¬
- **ìë™ ì¸ì‚¬ì´íŠ¸**: AI ê¸°ë°˜ ë°ì´í„° íŒ¨í„´ ë°œê²¬
