                # ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ ë°ì´í„° ì°¾ê¸°
                if df is None:
                    available_data = data_manager.list_dataframes()
                    if available_data:
                        first_data_id = available_data[0]
                        df = data_manager.get_dataframe(first_data_id)
                        logger.info(f"ğŸ“Š ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©: {first_data_id}")
                        
                        # ì„¸ì…˜ ìƒì„±
                        current_session_id = session_data_manager.create_session_with_data(
                            data_id=first_data_id,
                            data=df,
                            user_instructions=user_instructions
                        )
                        env_info = session_data_manager.prepare_ai_ds_team_environment(current_session_id)
                
                if df is not None:
                    # AI DS Team EDA ì—ì´ì „íŠ¸ ì‹¤ì œ ì‹¤í–‰
                    logger.info("ğŸš€ AI DS Team EDA ì—ì´ì „íŠ¸ ì‹¤í–‰ ì¤‘...")
                    
                    try:
                        # EDA ì‹¤í–‰
                        result = self.agent.invoke_agent(
                            user_instructions=user_instructions,
                            data_raw=df
                        )
                        
                        # ê²°ê³¼ ì²˜ë¦¬
                        if isinstance(result, dict):
                            result_text = json.dumps(result, ensure_ascii=False, indent=2)
                        else:
                            result_text = str(result)
                        
                        response_text = f"""## ğŸ” EDA ë¶„ì„ ì™„ë£Œ

âœ… **ì„¸ì…˜ ID**: {current_session_id}
âœ… **ë°ì´í„°**: {data_reference.get('data_id', 'default') if data_reference else 'default'}
âœ… **í˜•íƒœ**: {df.shape[0]:,} í–‰ Ã— {df.shape[1]:,} ì—´
âœ… **AI DS Team í™˜ê²½**: ì¤€ë¹„ ì™„ë£Œ

### ğŸ“Š ë¶„ì„ ê²°ê³¼

{result_text}

### ğŸ¯ ë¶„ì„ ì™„ë£Œ
AI DS Team EDA ì—ì´ì „íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë°ì´í„° ë¶„ì„ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.
"""
                        
                        await task_updater.update_status(
                            TaskState.completed,
                            message=new_agent_text_message(response_text)
                        )
                        
                    except Exception as eda_error:
                        logger.error(f"âŒ AI DS Team EDA ì‹¤í–‰ ì˜¤ë¥˜: {eda_error}")
                        await task_updater.update_status(
                            TaskState.failed,
                            message=new_agent_text_message(f"EDA ë¶„ì„ ì‹¤í–‰ ì˜¤ë¥˜: {str(eda_error)}")
                        )
                else:
                    response_text = "âŒ ìš”ì²­ëœ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”." 